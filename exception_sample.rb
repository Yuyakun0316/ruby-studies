# 例外処理（Exception Handling）の学習
# エラーが起きてもプログラムを強制終了させない仕組み

puts "--- 計算スタート ---"

# 1. 普通にやるとエラーで止まるパターン（コメントアウトして実験してみてください）
# puts 100 / 0 
# => ZeroDivisionError が発生して、ここでプログラムが死にます。


# 2. begin / rescue で守るパターン
begin
  # ここに「エラーが起きるかもしれない処理」を書く
  puts "割り算をします..."
  result = 100 / 0
  puts "結果は #{result} です" # ここは実行されない

rescue => e
  # エラー（例外）が発生した場合、ここが実行される（レスキュー！）
  # 変数 e にはエラーの詳しい情報が入っている
  puts "！！エラーが発生しました！！"
  puts "エラー内容: #{e.message}"
  puts "クラス名: #{e.class}"
  
ensure
  # エラーがあってもなくても、最後に必ず実行される場所
  # （データベースの切断処理などでよく使います）
  puts "--- 処理を終了します（ensure） ---"
end

puts "\nプログラムは無事に最後まで動きました！"